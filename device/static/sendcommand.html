<!doctype html>
<html ng-app>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.min.js"></script>
  </head>
  <body>


<h2>Select Command to Send</h2>

  <select id="command">
    <option value="deviceinfo" type="text">DeviceInformation</option>
    <option value="devicelock" type="text">DeviceLock</option>
    <option value="erasedevice" type="text">EraseDevice</option>
    <option value="clearpasscode" type="text">ClearPasscode</option>
    <option value="certificatelist" type="text">CertificateList</option>
    <option value="provisioningprofilelist" type="text">ProvisioningProfileList</option>
    <option value="installedapplicationlist" type="text">InstalledApplicationList</option>
    <option value="managedapplicationlist" type="text">ManagedApplicationList</option>    
    <option value="profilelist" type="text">ProfileList</option>
    <option value="provisioningprofilelist" type="text">ProvisioningProfileList</option>
    <option value="restrictions" type="text">Restrictions</option>
    <option value="securityinfo" type="text">SecurityInfo</option>
    <option value="installmyapplication" type="text">InstallCustomApplication</option>
    <option value="removeapplication" type="text">RemoveApplication</option>
    
  </select>
  
  <p><button  onclick="sendMDMCommand()">Send</button></p>



<div class="add-info">
  <span class="rightfloat">
    <span class="red">
      <span id="display">

      </span>
      </span>
  </span>
</div>
    

<script>

function sendMDMCommand() {

      var tokenID =sessionStorage.getItem("token", tokenID);
      var command = document.getElementById("command").value;
        
      xhttp = new XMLHttpRequest();
      var url = "/meem/device/apple/profiles/command";
      xhttp.open("POST", url, true);
      xhttp.setRequestHeader("Content-type", "application/json");
      xhttp.onreadystatechange = function () { 
          if (xhttp.readyState == XMLHttpRequest.DONE && xhttp.status == 200) {
              
              alert(xhttp.responseText);
          }
          else if (xhttp.readyState == XMLHttpRequest.DONE) {
              alert(xhttp.responseText);
          }
      }

      var data = JSON.stringify({
          "tokenID": tokenID,
          "command" : command,  
      });

      xhttp.send(data);

}
</script>

  </body>
</html>
